[ {
  "actionPlanType" : "httprequest",
  "name" : "IncidentEvents",
  "oneRequestPerEvent" : false,
  "eventClampLimit" : -1,
  "defaultCustomProperties" : [ ],
  "method" : "POST",
  "scheme" : "HTTPS",
  "host" : "${ENDPOINT[1]}",
  "port" : 0,
  "path" : "/events/publish/incident_events",
  "query" : "",
  "urlCharset" : "UTF_8",
  "authType" : "NONE",
  "authUsername" : null,
  "authPassword" : "",
  "headers" : [ {
    "id" : 0,
    "version" : 0,
    "name" : "X-Events-API-AccountName",
    "value" : "${ACCOUNT_NAME}"
  }, {
    "id" : 0,
    "version" : 0,
    "name" : "X-Events-API-Key",
    "value" : "${API_KEY}"
  } ],
  "payloadTemplate" : {
    "httpRequestActionMediaType" : "application/vnd.appd.events+json",
    "charset" : "UTF_8",
    "formDataPairs" : [ ],
    "payload" : "[\n#foreach( ${event} in ${fullEventList} )\n{\n#set( $severityLevel = 0 )\n#if($event.severity == \"WARN\")\n#set( $severityLevel = 1 )\n#elseif($event.severity == \"ERROR\")\n#set( $severityLevel = 2 )\n#end\n\n#set( $milestone = \"unknown\")\n#if($event.eventType.toString().contains(\"POLICY_OPEN\"))\n#set( $milestone = \"start\" )\n#elseif($event.eventType.toString().contains(\"POLICY_CLOSE\") || $event.eventType.toString().contains(\"POLICY_CANCELED\") )\n#set( $milestone = \"end\" )\n#elseif($event.eventType.toString().contains(\"POLICY_\"))\n#set( $milestone = \"continue\" )\n#end\n\n#set( $daysInMonth = 31)\n#set($daysWith30=([3,5,8,10]))\n#if($daysWith30.contains($event.eventTime.getMonth()))\n#set( $daysInMonth = 30)\n#elseif($event.eventTime.getMonth() == 1 && $event.eventTime.getMonth()%4 != 0)\n#set( $daysInMonth = 28)\n#elseif($event.eventTime.getMonth() == 1 && $event.eventTime.getMonth()%4 == 0)\n#set( $daysInMonth = 29)\n#end\n\n\"id\": $!{event.incident.id},\n\"milestone\": \"${milestone}\"\n\"eventType\": \"$!{event.eventType}\",\n\"displayName\": \"$!{event.displayName}\",\n\"summary:\" \"$!{event.summaryMessage}\",\n\"deepLink\": \"$!{event.deepLink}\",\n\"eventDateTime\": ${event.eventTime.getTime()},\n\"eventTimestamp\": ${event.eventTime.getTime()},\n\"controller\": \"$!{controllerUrl}\",\n\"application\": \"$!{event.application.name}\",\n\"tier\": \"$!{event.tier.name}\",\n\"node\": \"$!{event.node.name}\",\n\"db\": \"$!{event.db.name}\",\n\"severity\": \"$!{event.severity}\",\n\"severityLevel\": ${severityLevel},\n\"daysInMonth\": ${daysInMonth}\n}#if( $foreach.hasNext ),#end\n#end\n]"
  },
  "connectTimeoutInMillis" : 5000,
  "socketTimeoutInMillis" : 15000,
  "maxFollowRedirects" : 0,
  "responseMatchCriteriaAnyTemplate" : [ {
    "statusCode" : 200,
    "requireContent" : false,
    "httpRequestActionMediaType" : null
  } ],
  "responseMatchCriteriaNoneTemplate" : [ ],
  "testLogLevel" : "DEBUG",
  "testPropertiesPairs" : [ ],
  "eventTypeCountPairs" : [ {
    "eventType" : "POLICY_CLOSE_WARNING",
    "count" : 1
  } ]
} ]
